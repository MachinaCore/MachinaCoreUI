{"version":3,"sources":["../src/ajax-load.js"],"names":["AjaxLoad","$","NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","fn","ClassName","ACTIVE","NAV_PILLS","NAV_TABS","OPEN","VIEW_SCRIPT","Event","CLICK","Selector","HEAD","NAV_DROPDOWN","NAV_LINK","NAV_ITEM","Default","defaultPage","errorPage","subpagesDirectory","element","config","_config","_getConfig","_element","url","location","hash","replace","setUpUrl","_addEventListeners","loadPage","window","beforeHook","axios","get","then","res","html","data","afterHook","catch","err","href","removeClass","split","addClass","menuName","menuElement","parent","hasClass","menuElementParentName","find","text","first","loadBlank","open","loadTop","document","on","event","preventDefault","stopPropagation","currentTarget","getAttribute","target","_jQueryInterface","each","Constructor","noConflict"],"mappings":"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","sourcesContent":["import $ from 'jquery'\nimport axios from 'axios'\n\n/**\n * --------------------------------------------------------------------------\n * CoreUI (v2.0.3): ajax-load.js\n * Licensed under MIT (https://coreui.io/license)\n * --------------------------------------------------------------------------\n */\n\n\nconst AjaxLoad = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME                       = 'ajaxLoad'\n  const VERSION                    = '2.0.3'\n  const DATA_KEY                   = 'coreui.ajaxLoad'\n  const JQUERY_NO_CONFLICT         = $.fn[NAME]\n\n  const ClassName = {\n    ACTIVE      : 'active',\n    NAV_PILLS   : 'nav-pills',\n    NAV_TABS    : 'nav-tabs',\n    OPEN        : 'open',\n    VIEW_SCRIPT : 'view-script'\n  }\n\n  const Event = {\n    CLICK : 'click'\n  }\n\n  const Selector = {\n    HEAD         : 'head',\n    NAV_DROPDOWN : '.sidebar-nav .nav-dropdown',\n    NAV_LINK     : '.sidebar-nav .nav-link',\n    NAV_ITEM     : '.sidebar-nav .nav-item',\n    VIEW_SCRIPT  : '.view-script'\n  }\n\n  const Default = {\n    defaultPage       : 'pages/Dashboard.html',\n    errorPage         : 'pages/404.html',\n    subpagesDirectory : ''\n  }\n\n  class AjaxLoad {\n    constructor(element, config) {\n      this._config = this._getConfig(config)\n      this._element = element\n\n      const url = location.hash.replace(/^#/, '')\n\n      if (url !== '') {\n        this.setUpUrl(url)\n      } else {\n        this.setUpUrl(this._config.defaultPage)\n      }\n      this._addEventListeners()\n    }\n\n    // Getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    static get Default() {\n      return Default\n    }\n\n    // Public\n\n    loadPage(url) {\n      if (typeof window.beforeHook === 'function') {\n        window.beforeHook()\n      }\n\n      /* const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          'Cache-Control' : 'no-cache'\n        }\n      }\n      axios.get(this._config.subpagesDirectory + url, config)\n      */\n\n      window.location.hash = url\n      axios.get(this._config.subpagesDirectory + url)\n        .then((res) => {\n          $('#ui-view').html(res.data)\n\n          if (typeof window.afterHook === 'function') {\n            window.afterHook()\n          }\n        })\n        /* eslint-disable */\n        .catch((err) => {\n          axios.get(this._config.errorPage)\n          .then((res) => {\n            $('#ui-view').html(res.data)\n            if (typeof window.afterHook === 'function') {\n              window.afterHook()\n            }\n          })\n          .catch((err) => {\n            // console.log(err)\n            window.location.href = this._config.errorPage\n          })          \n        })\n        /* eslint-enable */\n    }\n\n    setUpUrl(url) {\n      $(Selector.NAV_LINK).removeClass(ClassName.ACTIVE)\n      $(Selector.NAV_DROPDOWN).removeClass(ClassName.OPEN)\n\n      $(`${Selector.NAV_DROPDOWN}:has(a[href=\"${url.split('?')[0]}\"])`).addClass(ClassName.OPEN)\n      $(`${Selector.NAV_ITEM} a[href=\"${url.split('?')[0]}\"]`).addClass(ClassName.ACTIVE)\n\n      // Setup Breadcrumb\n      let menuName = '<li class=\"breadcrumb-item\"><a href=\"/\">Home</a></li>'\n      /* eslint-disable */\n      $.menuElement = $('nav .nav li:has(a[href=\"' + url.split('?')[0] + '\"])')\n      if ($.menuElement.parent().parent().hasClass('nav-dropdown open')) {\n        $.menuElementParentName = $.menuElement.parent().parent().find('span:first').text()\n        menuName += '<li class=\"breadcrumb-item\">' + $.menuElementParentName + '</li>'\n      }\n      menuName += '<li class=\"breadcrumb-item active\">' + $('nav .nav li:has(a[href=\"' + url.split('?')[0] + '\"])').find('.active').find('span').first().text() + '</li>'\n      /* eslint-enable */\n      $('#breadcrumb').html(menuName)\n\n      this.loadPage(url)\n    }\n\n    loadBlank(url) {\n      window.open(url)\n    }\n\n    loadTop(url) {\n      window.location = url\n    }\n\n    // Private\n\n    _getConfig(config) {\n      config = {\n        ...Default,\n        ...config\n      }\n      return config\n    }\n\n    _addEventListeners() {\n      $(document).on(Event.CLICK, '.ajaxLink', (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n        this.loadPage(event.currentTarget.getAttribute('href'))\n      })\n\n      $(document).on(Event.CLICK, `${Selector.NAV_LINK}[href!=\"#\"]`, (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n\n        if (event.currentTarget.target === '_top') {\n          this.loadTop(event.currentTarget.href)\n        } else if (event.currentTarget.target === '_blank') {\n          this.loadBlank(event.currentTarget.href)\n        } else {\n          this.setUpUrl(event.currentTarget.getAttribute('href'))\n        }\n      })\n    }\n\n    // Static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        let data = $(this).data(DATA_KEY)\n        const _config = typeof config === 'object' && config\n\n        if (!data) {\n          data = new AjaxLoad(this, _config)\n          $(this).data(DATA_KEY, data)\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME] = AjaxLoad._jQueryInterface\n  $.fn[NAME].Constructor = AjaxLoad\n  $.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return AjaxLoad._jQueryInterface\n  }\n\n  return AjaxLoad\n})($)\n\nexport default AjaxLoad\n"],"file":"ajax-load.js"}