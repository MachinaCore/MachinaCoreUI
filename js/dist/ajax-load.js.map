{"version":3,"sources":["../src/ajax-load.js"],"names":["AjaxLoad","$","NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","fn","ClassName","ACTIVE","NAV_PILLS","NAV_TABS","OPEN","Event","CLICK","Selector","NAV_DROPDOWN","NAV_LINK","NAV_ITEM","Default","defaultPage","errorPage","subpagesDirectory","element","config","_config","_getConfig","_element","url","location","hash","replace","setUpUrl","_addEventListeners","loadPage","ajax","type","dataType","cache","async","success","animate","scrollTop","load","window","error","href","removeClass","split","addClass","loadBlank","open","loadTop","document","on","event","preventDefault","stopPropagation","currentTarget","target","pathname","_jQueryInterface","each","data","Constructor","noConflict"],"mappings":"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","sourcesContent":["import $ from 'jquery'\n\n/**\n * --------------------------------------------------------------------------\n * CoreUI (v2.0.0-beta.8): ajax-load.js\n * Licensed under MIT (https://coreui.io/license)\n * --------------------------------------------------------------------------\n */\n\n\nconst AjaxLoad = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME                       = 'ajaxLoad'\n  const VERSION                    = '2.0.0-beta.8'\n  const DATA_KEY                   = 'coreui.ajaxLoad'\n  const JQUERY_NO_CONFLICT         = $.fn[NAME]\n\n  const ClassName = {\n    ACTIVE    : 'active',\n    NAV_PILLS : 'nav-pills',\n    NAV_TABS  : 'nav-tabs',\n    OPEN      : 'open'\n  }\n\n  const Event = {\n    CLICK : 'click'\n  }\n\n  const Selector = {\n    NAV_DROPDOWN : '.sidebar-nav .nav-dropdown',\n    NAV_LINK     : '.sidebar-nav .nav-link',\n    NAV_ITEM     : '.sidebar-nav .nav-item'\n  }\n\n  const Default = {\n    defaultPage       : 'main.html',\n    errorPage         : '404.html',\n    subpagesDirectory : 'views/'\n  }\n\n  class AjaxLoad {\n    constructor(element, config) {\n      this._config = this._getConfig(config)\n      this._element = element\n\n      const url = location.hash.replace(/^#/, '')\n\n      if (url !== '') {\n        this.setUpUrl(url)\n      } else {\n        this.setUpUrl(this._config.defaultPage)\n      }\n      this._addEventListeners()\n    }\n\n    // Getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    static get Default() {\n      return Default\n    }\n\n    // Public\n\n    loadPage(url) {\n      const element = this._element\n      const config = this._config\n\n      $.ajax({\n        type : 'GET',\n        url : config.subpagesDirectory + url,\n        dataType : 'html',\n        cache : false,\n        async: false,\n        success: function success() {\n          $('body').animate({\n            scrollTop: 0\n          }, 0)\n          $(element).load(config.subpagesDirectory + url, null, () => {\n            window.location.hash = url\n          })\n        },\n        error: function error() {\n          window.location.href = config.errorPage\n        }\n      })\n    }\n\n    setUpUrl(url) {\n      $(Selector.NAV_LINK).removeClass(ClassName.ACTIVE)\n      $(Selector.NAV_DROPDOWN).removeClass(ClassName.OPEN)\n\n      $(`${Selector.NAV_DROPDOWN}:has(a[href=\"${url.replace(/^\\//, '').split('?')[0]}\"])`).addClass(ClassName.OPEN)\n      $(`${Selector.NAV_ITEM} a[href=\"${url.replace(/^\\//, '').split('?')[0]}\"]`).addClass(ClassName.ACTIVE)\n\n      this.loadPage(url)\n    }\n\n    loadBlank(url) {\n      window.open(url)\n    }\n\n    loadTop(url) {\n      window.location = url\n    }\n\n    // Private\n\n    _getConfig(config) {\n      config = {\n        ...Default,\n        ...config\n      }\n      return config\n    }\n\n    _addEventListeners() {\n      $(document).on(Event.CLICK, `${Selector.NAV_LINK}[href!=\"#\"]`, (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n\n        if (event.currentTarget.target === '_top') {\n          this.loadTop(event.currentTarget.href)\n        } else if (event.currentTarget.target === '_blank') {\n          this.loadBlank(event.currentTarget.href)\n        } else {\n          this.setUpUrl(event.currentTarget.pathname)\n        }\n      })\n    }\n\n    // Static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        let data = $(this).data(DATA_KEY)\n        const _config = typeof config === 'object' && config\n\n        if (!data) {\n          data = new AjaxLoad(this, _config)\n          $(this).data(DATA_KEY, data)\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME] = AjaxLoad._jQueryInterface\n  $.fn[NAME].Constructor = AjaxLoad\n  $.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return AjaxLoad._jQueryInterface\n  }\n\n  return AjaxLoad\n})($)\n\nexport default AjaxLoad\n"],"file":"ajax-load.js"}